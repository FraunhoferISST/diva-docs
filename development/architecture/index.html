<!DOCTYPE html>
<html lang="en-US">
  <head>
    <link rel="icon" href="/logos/diva_logo_1000_1000.png"><title>Overview | DIVA Guide</title><meta name="description" content="DIVA  Documentation"><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="generator" content="VuePress 2.0.0-beta.15">
    <link rel="preload" href="/diva-docs/assets/js/runtime~app.79a8b393.js" as="script"><link rel="preload" href="/diva-docs/assets/css/styles.58093299.css" as="style"><link rel="preload" href="/diva-docs/assets/js/772.2e113ebf.js" as="script"><link rel="preload" href="/diva-docs/assets/js/app.5c06d636.js" as="script">
    <link rel="stylesheet" href="/diva-docs/assets/css/styles.58093299.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><header class="navbar"><div class="toggle-sidebar-button"><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><span><a href="/diva-docs/" class=""><img class="logo" src="/diva-docs//logos/diva_logo_1000_1000.png" alt="DIVA Guide"><span class="site-name can-hide">DIVA Guide</span></a></span><div class="navbar-links-wrapper" style=""><!--[--><!--]--><nav class="navbar-links can-hide"><!--[--><div class="navbar-links-item"><a href="/diva-docs/about/" class="nav-link" aria-label="About DIVA"><!--[--><!--]--> About DIVA <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/diva-docs/user-docs/" class="nav-link" aria-label="Users Guide"><!--[--><!--]--> Users Guide <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/diva-docs/deployment/" class="nav-link" aria-label="Deployment"><!--[--><!--]--> Deployment <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/diva-docs/development/" class="nav-link router-link-active" aria-label="Development"><!--[--><!--]--> Development <!--[--><!--]--></a></div><div class="navbar-links-item"><a class="nav-link external" href="https://github.com/FraunhoferISST/diva" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><div class="sidebar-mask"></div><aside class="sidebar"><nav class="navbar-links"><!--[--><div class="navbar-links-item"><a href="/diva-docs/about/" class="nav-link" aria-label="About DIVA"><!--[--><!--]--> About DIVA <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/diva-docs/user-docs/" class="nav-link" aria-label="Users Guide"><!--[--><!--]--> Users Guide <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/diva-docs/deployment/" class="nav-link" aria-label="Deployment"><!--[--><!--]--> Deployment <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/diva-docs/development/" class="nav-link router-link-active" aria-label="Development"><!--[--><!--]--> Development <!--[--><!--]--></a></div><div class="navbar-links-item"><a class="nav-link external" href="https://github.com/FraunhoferISST/diva" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-links"><!--[--><!--[--><a href="/diva-docs/development/" class="nav-link router-link-active sidebar-link" aria-label="Introduction"><!--[--><!--]--> Introduction <!--[--><!--]--></a><!----><!--]--><!--[--><a href="/diva-docs/development/prerequisites.html" class="nav-link sidebar-link" aria-label="Prerequisites"><!--[--><!--]--> Prerequisites <!--[--><!--]--></a><!----><!--]--><!--[--><section class="sidebar-group"><p class="sidebar-heading active">Development</p><ul class=""><li><!--[--><section class="sidebar-group"><p class="sidebar-heading">Deployment</p><ul class="sidebar-sub-headers"><li><!--[--><a href="/diva-docs/development/deployment/local.html" class="nav-link sidebar-link" aria-label="Local development"><!--[--><!--]--> Local development <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/diva-docs/development/deployment/docker.html" class="nav-link sidebar-link" aria-label="Docker deployment"><!--[--><!--]--> Docker deployment <!--[--><!--]--></a><!----><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading active">Architecture</p><ul class="sidebar-sub-headers"><li><!--[--><a aria-current="page" href="/diva-docs/development/architecture/" class="router-link-active router-link-exact-active nav-link router-link-active sidebar-link active" aria-label="Overview"><!--[--><!--]--> Overview <!--[--><!--]--></a><ul class="sidebar-sub-headers"><li><!--[--><a aria-current="page" href="/diva-docs/development/architecture/#data-model" class="router-link-active router-link-exact-active nav-link sidebar-link" aria-label="Data Model"><!--[--><!--]--> Data Model <!--[--><!--]--></a><ul class="sidebar-sub-headers"><li><!--[--><a aria-current="page" href="/diva-docs/development/architecture/#dcat-compatibility" class="router-link-active router-link-exact-active nav-link sidebar-link" aria-label="DCAT Compatibility"><!--[--><!--]--> DCAT Compatibility <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li><li><!--[--><a aria-current="page" href="/diva-docs/development/architecture/#diva-core" class="router-link-active router-link-exact-active nav-link sidebar-link" aria-label="DIVA Core"><!--[--><!--]--> DIVA Core <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li><li><!--[--><a href="/diva-docs/development/architecture/json-schemas.html" class="nav-link sidebar-link" aria-label="Schemata  "><!--[--><!--]--> Schemata   <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/diva-docs/development/architecture/rest-api.html" class="nav-link sidebar-link" aria-label="REST API"><!--[--><!--]--> REST API <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/diva-docs/development/architecture/keycloak.html" class="nav-link sidebar-link" aria-label="Keycloak"><!--[--><!--]--> Keycloak <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/diva-docs/development/architecture/gateway.html" class="nav-link sidebar-link" aria-label="Gateway"><!--[--><!--]--> Gateway <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/diva-docs/development/architecture/web-client.html" class="nav-link sidebar-link" aria-label="Web client"><!--[--><!--]--> Web client <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/diva-docs/development/architecture/tooling.html" class="nav-link sidebar-link" aria-label="Tooling"><!--[--><!--]--> Tooling <!--[--><!--]--></a><!----><!--]--></li></ul></section><!--]--></li></ul></section><!--]--><!--[--><section class="sidebar-group"><p class="sidebar-heading">Contribution</p><ul class=""><li><!--[--><a href="/diva-docs/development/contribution/" class="nav-link sidebar-link" aria-label="How you can help"><!--[--><!--]--> How you can help <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/diva-docs/development/contribution/issues-and-prs.html" class="nav-link sidebar-link" aria-label="Issues and pull request"><!--[--><!--]--> Issues and pull request <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/diva-docs/development/contribution/commits.html" class="nav-link sidebar-link" aria-label="Committing changes"><!--[--><!--]--> Committing changes <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/diva-docs/development/contribution/code-styles.html" class="nav-link sidebar-link" aria-label="Code style guidance"><!--[--><!--]--> Code style guidance <!--[--><!--]--></a><!----><!--]--></li></ul></section><!--]--><!--]--></ul><!--[--><!--]--></aside><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="overview"><a class="header-anchor" href="#overview">#</a> Overview</h1><p>The following figure will give you a quick overview on the architecture of DIVA. In the following chapter we will take a close look at main components and explain their responsibilities. Following the navigation structure in the left sidebar you will consistently learn the architecture and be able to understand the implications and design decisions.</p><img src="/diva-docs//assets/diva_architecture.png" alt="DIVA Architecture"><p>Diva architecture follows the Micro Services pattern and aims at high degree of scalability. The main goal is to provide the most simplistic components and strong modularity for scalable extension of the system with new functionalities.</p><p>We have five types of services, which are distinguished from each other by well-defined competences. At one hand, we have management services. Management Services are derived from our data model and perform the operations on the corresponding entities. On the other hand, there are Assistant Services, which are responsible for additional useful functions. To be able to connect DIVA with external sources like UrbanPulse or DSC, we develop the third service type - Adapter Services. Connector Services are used to internally replicate metadata from primary MongoDB data store to other data stores.</p><p>All services provide an API which is strictly defined using OpenAPI specification. The web client uses API Gateway to access the backend, API Gateway acts as an abstraction layer for the underlying services. Kafka messages allow services to communicate indirectly and asynchronously with each other.</p><p>In the following the components will be explained with more details.</p><h2 id="data-model"><a class="header-anchor" href="#data-model">#</a> Data Model</h2><p>Our data model aims at simplicity and flat hierarchy. We have designed a model with loose entity coupling, driven by <a href="/diva-docs/development/architecture/json-schemas.html" class="">JSON schemas</a>. JSON schemas are most important building block of our whole system. Thanks to the schema-driven development process, we can achieve high integrity and validity of the data processed in DIVA. Furthermore, this approach allows us to develop Management Services API&#39;s with fully automated data validation process.</p><div class="mt-0" data-v-100e876a><div class="grid grid-cols-3 gap-2 place-items-strech" data-v-100e876a><div data-v-100e876a></div><div class="item m-0" data-v-100e876a data-v-9e8f7804><div class="item-container flex justify-center py-5 px-2" data-v-9e8f7804><h4 class="item-title m-0" data-v-9e8f7804>Entity</h4></div></div><div data-v-100e876a></div></div><div class="grid grid-cols-1 place-items-strech" data-v-100e876a><div class="connector center" data-v-100e876a data-v-c0f5fcf6></div></div><div class="grid grid-cols-1 place-items-center" data-v-100e876a><div class="grid grid-cols-4 place-items-strech w-4/5" data-v-100e876a><div class="connector left top" data-v-100e876a data-v-c0f5fcf6></div><div class="connector left right top middle" data-v-100e876a data-v-c0f5fcf6></div><div class="connector right top middle" data-v-100e876a data-v-c0f5fcf6></div><div class="connector right top" data-v-100e876a data-v-c0f5fcf6></div></div></div><div class="grid grid-cols-5 gap-2 place-items-strech" data-v-100e876a><a href="/diva-docs/about/README.md#user" class="item m-0" data-v-100e876a data-v-9e8f7804><div class="item-container flex justify-center py-5 px-2" data-v-9e8f7804><h4 class="item-title m-0" data-v-9e8f7804>User</h4></div></a><a href="/diva-docs/about/README.md#resource" class="item m-0" data-v-100e876a data-v-9e8f7804><div class="item-container flex justify-center py-5 px-2" data-v-9e8f7804><h4 class="item-title m-0" data-v-9e8f7804>Resource</h4></div></a><a href="/diva-docs/about/README.md#asset" class="item m-0" data-v-100e876a data-v-9e8f7804><div class="item-container flex justify-center py-5 px-2" data-v-9e8f7804><h4 class="item-title m-0" data-v-9e8f7804>Asset</h4></div></a><a href="/diva-docs/about/README.md#review" class="item m-0" data-v-100e876a data-v-9e8f7804><div class="item-container flex justify-center py-5 px-2" data-v-9e8f7804><h4 class="item-title m-0" data-v-9e8f7804>Review</h4></div></a><a href="/diva-docs/about/README.md#history" class="item m-0" data-v-100e876a data-v-9e8f7804><div class="item-container flex justify-center py-5 px-2" data-v-9e8f7804><h4 class="item-title m-0" data-v-9e8f7804>History</h4></div></a></div></div><p>We have two levels of hierarchy in our model, with the Entity on top. Entity is a logical high level abstraction that represents common properties of the underlying entities and does <strong>not</strong> exists physically. The entities <a href="/diva-docs/about/#user" class="">User</a>, <a href="/diva-docs/about/#resource" class="">Resource</a>, <a href="/diva-docs/about/#asset" class="">Asset</a> etc. inherit properties like <code>id</code>, <code>entityType</code> and <code>created</code> from Entity. You will find schemas for all entities in <a href="https://github.com/FraunhoferISST/diva/tree/master/core/schemata" target="_blank" rel="noopener noreferrer"><code>core/schemata/</code><span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a> directory.</p><p>Although the entities are not coupled with each other, they can have relations. All entities are created by an actor (User or Service). An Asset can group multiple Resources, Asset and Resources can have multiple Reviews and History entries. The relation is expressed through linking via the <code>id</code> attribute. So if one entity is in relation to another, it must store the <code>id</code> of the corresponding entity. For example, if a User with the id <code>user:uuid:041587a4-f9fb-4c6a-8ff0-6ff93c374c3f</code> want to create a Review for a Resource with the id <code>resource:uuid:c98bdd99-c68b-47d0-85f5-2b362cf74e14</code>, the representations of the Review will look like follows:</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token string">&quot;review:uuid:some-id&quot;</span><span class="token punctuation">,</span>
  belongsTo<span class="token operator">:</span> <span class="token string">&quot;resource:uuid:c98bdd99-c68b-47d0-85f5-2b362cf74e14&quot;</span><span class="token punctuation">,</span> <span class="token comment">// points to Resource</span>
  creatorId<span class="token operator">:</span> <span class="token string">&quot;user:uuid:041587a4-f9fb-4c6a-8ff0-6ff93c374c3f&quot;</span><span class="token punctuation">,</span> <span class="token comment">// points to User</span>
  <span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre></div><p>In this way we can achieve a flat hierarchy, loose coupling and flexible relations between entities. This in turn allows us to develop services with transparent API according to the single responsibility principle. You will learn more about our <a href="/diva-docs/development/architecture/rest-api.html" class="">REST API</a> design rules in the corresponding section.</p><div class="custom-container warning"><p class="custom-container-title">Relations</p><p>Note that even if the entities have relations, they remain fully independent and can be managed only by the corresponding management service. The existence of one entity is not bound to another one!</p></div><h3 id="dcat-compatibility"><a class="header-anchor" href="#dcat-compatibility">#</a> DCAT Compatibility</h3><div class="custom-container warning"><p class="custom-container-title">DCAT 3</p><p>In this case, <strong>compatible</strong> means that a parser (that currently does not exist) can transform our internal metadata model into DCAT 3. It may be that DCAT allows a higher cardinality than the metadata model in DIVA. Nevertheless, DIVA would be compatible at this point. The reverse case may also occur. However, then we would not have compatibility.</p></div><div class="custom-container danger"><p class="custom-container-title">TBD</p><p>Currently we do not have a complete overview of which fields are DCAT compatible. This is still to be done.</p></div><h2 id="diva-core"><a class="header-anchor" href="#diva-core">#</a> DIVA Core</h2><p>Under the DIVA Core we understand all components that are implemented and packaged by us or are necessary for the basic functionality. This includes, for example, management services that we have written or external open source products such as MongoDB or Kafka, which are fixed parts of the DIVA ecosystem.</p><p><strong>Web client</strong></p><p><a href="/diva-docs/development/architecture/web-client.html" class="">Web application</a> is currently the only client that allows managing DIVA Catalog through a nice UI. For non-developers this is the only way to interact with the system&#39;s backend. Make sure to take a look at the <a href="../../user-docs">users guide</a>!</p><p><strong>API Gateway</strong></p><p>The <a href="/diva-docs/development/architecture/gateway.html" class="">Kong API Gateway</a> acts as a secure access point to the backend services. It is an abstraction layer for the REST API&#39;s of the individual services used by our <a href="/diva-docs/development/architecture/web-client.html" class="">Web client</a>. Only authenticated users with a valid JWT have access to the backend through the API Gateway.</p><p><strong>Schema registry</strong></p><p><a href="https://github.com/FraunhoferISST/diva/tree/master/core/services/schema-registry" target="_blank" rel="noopener noreferrer">Schema Registry<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a> holds and exposes all schemas through the API endpoint, including <a href="/diva-docs/development/architecture/json-schemas.html" class="">JSON Schemas</a> and AsyncAPI Schemas. All interested services contact the Schema Registry and load the required schemas once at start time.</p><p><strong>Messaging</strong></p><p>We use Kafka as the event bus for the asynchronous communications between the components. The messages structure is regulated through the <a href="https://github.com/FraunhoferISST/diva/tree/master/core/schemata/asyncapi/asyncapi.yml" target="_blank" rel="noopener noreferrer">AsyncAPI schema<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a>. The management Service produces events indicating data changes on corresponding topics. To guaranty consistency and integrity of the exchanged data, the services validate the messages against AsyncAPI schema while consuming and producing them.</p><p><strong>Data Storage</strong></p><p>DIVA uses three databases as persistent data store, including MongoDB, Elasticsearch and MinIO. MongoDB is the primary metadata storage for all kind of DIVA entities (users, resources, assets etc.) and is always the <strong>source of truth</strong>. MongoDB instance should be used to reach consistency across other external or internal components.</p><p>Relevant entities&#39; metadata is replicated to the Elasticsearch instance through the <a href="https://github.com/FraunhoferISST/diva/tree/master/core/services/elasticsearch-connector" target="_blank" rel="noopener noreferrer">Elasticsearch Connector<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a> to provide high performance full text search capabilities. This ES instance is used by the <a href="https://github.com/FraunhoferISST/diva/tree/master/core/services/search-assistant" target="_blank" rel="noopener noreferrer">Search Assistant<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a> Service. MinIO acts as the efficient object storage, where we only persist files imported via <a href="/diva-docs/development/architecture/web-client.html" class="">Web client</a> UI from the user&#39;s device.</p><div class="custom-container warning"><p class="custom-container-title">Data Replication</p><p>Data replication across different external or internal components should be achieved through events messaging. Please note that this can lead to eventual consistency due to the asynchronous nature of events broadcasting. MongoDB always acts as the single source of truth!</p></div><p><strong>Management Services</strong></p><p>Management Services expose API for CRUD operations on the entities they are responsible for. Management Services are important parts of the system that represent the main concept of the data modeling in Diva. All changes applied to the data produce Kafka events so other components can react properly to these changes. The entities&#39; data is stored in corresponding collections in MongoDB.</p><table><thead><tr><th>Title</th><th>Description</th><th>Dependencies</th></tr></thead><tbody><tr><td><a href="https://github.com/FraunhoferISST/diva/tree/master/core/services/resource-management" target="_blank" rel="noopener noreferrer">Resource Management<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></td><td>Responsible for managing the metadata about <a href="/diva-docs/about/#resource" class="">resources</a></td><td>Kafka, MongoDB, Schema Registry</td></tr><tr><td><a href="https://github.com/FraunhoferISST/diva/tree/master/core/services/user-management" target="_blank" rel="noopener noreferrer">User Management<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></td><td>Responsible for <a href="/diva-docs/about/#user" class="">users</a> data management and authentication</td><td>Kafka, MongoDB, Schema Registry</td></tr><tr><td><a href="https://github.com/FraunhoferISST/diva/tree/master/core/services/asset-management" target="_blank" rel="noopener noreferrer">Asset Management<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></td><td>Responsible for managing the metadata about <a href="/diva-docs/about/#asset" class="">assets</a></td><td>Kafka, MongoDB, Schema Registry</td></tr><tr><td><a href="https://github.com/FraunhoferISST/diva/tree/master/core/services/review-management" target="_blank" rel="noopener noreferrer">Review Management<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></td><td>Responsible for <a href="/diva-docs/about/#review" class="">reviews</a> management</td><td>Kafka, MongoDB, Schema Registry</td></tr></tbody></table><p><strong>Assistant Services</strong></p><p>Assistant Services provide useful functionalities to extend DIVA possibilities. They do not produce or mutate any data and have only read access to the entities.</p><table><thead><tr><th>Title</th><th>Description</th><th>Dependencies</th></tr></thead><tbody><tr><td><a href="https://github.com/FraunhoferISST/diva/tree/master/core/services/analytics-assistant" target="_blank" rel="noopener noreferrer">Analytics Assistant<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></td><td>provides statistical data about catalog entities</td><td>Elasticsearch</td></tr><tr><td><a href="https://github.com/FraunhoferISST/diva/tree/master/core/services/profiling-assistant" target="_blank" rel="noopener noreferrer">Profiling Assistant<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></td><td>Responsible for <a href="/diva-docs/about/#resource" class="">profiling workflows</a> execution triggering</td><td>MongoDB, Airflow</td></tr><tr><td><a href="https://github.com/FraunhoferISST/diva/tree/master/core/services/history-assistant" target="_blank" rel="noopener noreferrer">History Assistant<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></td><td>Provides a human readable representation of the entities <a href="/diva-docs/about/#resource" class="">history</a></td><td>MongoDB, Schema Registry</td></tr><tr><td><a href="https://github.com/FraunhoferISST/diva/tree/master/core/services/search-assistant" target="_blank" rel="noopener noreferrer">Search Assistant<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></td><td>Provides preselected entities search API</td><td>Elasticsearch</td></tr></tbody></table><p><strong>Adapter Services</strong></p><p>The Adapter Services are special services designed to connect and import data from external sources. They encapsulate the connection logic, load the data, transform it into a DIVA compliant representation and store the newly created <a href="/diva-docs/about/#resource" class="">Resources</a> in the system. In special cases an Adapter Service can be implemented to export a DIVA Resource to an external system. The creation of new resources is done by using the Resource Management Service, direct access to the data storage is only allowed in the read mode.</p><table><thead><tr><th>Title</th><th>Description</th><th>Dependencies</th></tr></thead><tbody><tr><td><a href="https://github.com/FraunhoferISST/diva/tree/master/core/services/adapter-services/diva-lake-adapter" target="_blank" rel="noopener noreferrer">DSC Adapter<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></td><td>Adapter for the <a href="https://github.com/International-Data-Spaces-Association/DataspaceConnector" target="_blank" rel="noopener noreferrer">Data Space Connector<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></td><td>Kafka, MongoDb, Resource Management, DSC Instance</td></tr><tr><td><a href="https://github.com/FraunhoferISST/diva/tree/master/core/services/adapter-services/dsc-adapter" target="_blank" rel="noopener noreferrer">DIVA Lake Adapter<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></td><td>Responsible for uploading files into our Diva Lake (MinIO)</td><td>MinIO, Resource Management</td></tr><tr><td><a href="https://github.com/FraunhoferISST/diva/tree/master/core/services/adapter-services/urban-pulse-adapter" target="_blank" rel="noopener noreferrer">UrbanPulse Adapter<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></td><td>Adapter for the UrbanPulse instance</td><td>UrbanPulse, Resource Management</td></tr></tbody></table><p><strong>Workflow engine</strong></p><p>Apache Airflow is a great open-source workflow tool tha we use to execute and orchestrate profiling tasks. <a href="https://github.com/FraunhoferISST/diva/tree/master/core/services/analytics-assistant" target="_blank" rel="noopener noreferrer">Profiling Assistant<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a> is our wrapper service for Airflow API that triggers the workflow execution.</p><p><strong>FaaS</strong></p><p>In DIVA, there are a number of useful analysis tasks that are performed frequently. We build small Functions-as-a-Service that simply produce an output for a given input to address such specific profiling tasks. These functions are stateless and are a part of the profiling workflow engine.</p><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="nav-link external meta-item-label" href="https://github.com/FraunhoferISST/diva/edit/main/development/architecture/README.md" rel="noopener noreferrer" target="_blank" aria-label><!--[--><!--]-->  <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!----><!----></footer><nav class="page-nav"><p class="inner"><!----><span class="next"><a href="/diva-docs/development/architecture/json-schemas.html" class="nav-link" aria-label="Schemata  "><!--[--><!--]--> Schemata   <!--[--><!--]--></a> → </span></p></nav><!--[--><!--]--></main></div><!----><!--]--></div>
    <script src="/diva-docs/assets/js/runtime~app.79a8b393.js" defer></script><script src="/diva-docs/assets/js/772.2e113ebf.js" defer></script><script src="/diva-docs/assets/js/app.5c06d636.js" defer></script>
  </body>
</html>
