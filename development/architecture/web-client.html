<!DOCTYPE html>
<html lang="en-US">
  <head>
    <link rel="icon" href="/logos/diva_logo_1000_1000.png"><title>Web client | DIVA Guide</title><meta name="description" content="DIVA  Documentation"><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="generator" content="VuePress 2.0.0-beta.15">
    <link rel="preload" href="/diva-docs/assets/js/runtime~app.79a8b393.js" as="script"><link rel="preload" href="/diva-docs/assets/css/styles.58093299.css" as="style"><link rel="preload" href="/diva-docs/assets/js/772.2e113ebf.js" as="script"><link rel="preload" href="/diva-docs/assets/js/app.5c06d636.js" as="script">
    <link rel="stylesheet" href="/diva-docs/assets/css/styles.58093299.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><header class="navbar"><div class="toggle-sidebar-button"><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><span><a href="/diva-docs/" class=""><img class="logo" src="/diva-docs//logos/diva_logo_1000_1000.png" alt="DIVA Guide"><span class="site-name can-hide">DIVA Guide</span></a></span><div class="navbar-links-wrapper" style=""><!--[--><!--]--><nav class="navbar-links can-hide"><!--[--><div class="navbar-links-item"><a href="/diva-docs/about/" class="nav-link" aria-label="About DIVA"><!--[--><!--]--> About DIVA <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/diva-docs/user-docs/" class="nav-link" aria-label="Users Guide"><!--[--><!--]--> Users Guide <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/diva-docs/deployment/" class="nav-link" aria-label="Deployment"><!--[--><!--]--> Deployment <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/diva-docs/development/" class="nav-link router-link-active" aria-label="Development"><!--[--><!--]--> Development <!--[--><!--]--></a></div><div class="navbar-links-item"><a class="nav-link external" href="https://github.com/FraunhoferISST/diva" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><div class="sidebar-mask"></div><aside class="sidebar"><nav class="navbar-links"><!--[--><div class="navbar-links-item"><a href="/diva-docs/about/" class="nav-link" aria-label="About DIVA"><!--[--><!--]--> About DIVA <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/diva-docs/user-docs/" class="nav-link" aria-label="Users Guide"><!--[--><!--]--> Users Guide <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/diva-docs/deployment/" class="nav-link" aria-label="Deployment"><!--[--><!--]--> Deployment <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/diva-docs/development/" class="nav-link router-link-active" aria-label="Development"><!--[--><!--]--> Development <!--[--><!--]--></a></div><div class="navbar-links-item"><a class="nav-link external" href="https://github.com/FraunhoferISST/diva" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-links"><!--[--><!--[--><a href="/diva-docs/development/" class="nav-link router-link-active sidebar-link" aria-label="Introduction"><!--[--><!--]--> Introduction <!--[--><!--]--></a><!----><!--]--><!--[--><a href="/diva-docs/development/prerequisites.html" class="nav-link sidebar-link" aria-label="Prerequisites"><!--[--><!--]--> Prerequisites <!--[--><!--]--></a><!----><!--]--><!--[--><section class="sidebar-group"><p class="sidebar-heading active">Development</p><ul class=""><li><!--[--><section class="sidebar-group"><p class="sidebar-heading">Deployment</p><ul class="sidebar-sub-headers"><li><!--[--><a href="/diva-docs/development/deployment/local.html" class="nav-link sidebar-link" aria-label="Local development"><!--[--><!--]--> Local development <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/diva-docs/development/deployment/docker.html" class="nav-link sidebar-link" aria-label="Docker deployment"><!--[--><!--]--> Docker deployment <!--[--><!--]--></a><!----><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading active">Architecture</p><ul class="sidebar-sub-headers"><li><!--[--><a href="/diva-docs/development/architecture/" class="nav-link router-link-active sidebar-link" aria-label="Overview"><!--[--><!--]--> Overview <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/diva-docs/development/architecture/json-schemas.html" class="nav-link sidebar-link" aria-label="Schemata  "><!--[--><!--]--> Schemata   <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/diva-docs/development/architecture/rest-api.html" class="nav-link sidebar-link" aria-label="REST API"><!--[--><!--]--> REST API <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/diva-docs/development/architecture/keycloak.html" class="nav-link sidebar-link" aria-label="Keycloak"><!--[--><!--]--> Keycloak <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/diva-docs/development/architecture/gateway.html" class="nav-link sidebar-link" aria-label="Gateway"><!--[--><!--]--> Gateway <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/diva-docs/development/architecture/web-client.html" class="router-link-active router-link-exact-active nav-link router-link-active sidebar-link active" aria-label="Web client"><!--[--><!--]--> Web client <!--[--><!--]--></a><ul class="sidebar-sub-headers"><li><!--[--><a aria-current="page" href="/diva-docs/development/architecture/web-client.html#configuration" class="router-link-active router-link-exact-active nav-link sidebar-link" aria-label="Configuration"><!--[--><!--]--> Configuration <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li><li><!--[--><a href="/diva-docs/development/architecture/tooling.html" class="nav-link sidebar-link" aria-label="Tooling"><!--[--><!--]--> Tooling <!--[--><!--]--></a><!----><!--]--></li></ul></section><!--]--></li></ul></section><!--]--><!--[--><section class="sidebar-group"><p class="sidebar-heading">Contribution</p><ul class=""><li><!--[--><a href="/diva-docs/development/contribution/" class="nav-link sidebar-link" aria-label="How you can help"><!--[--><!--]--> How you can help <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/diva-docs/development/contribution/issues-and-prs.html" class="nav-link sidebar-link" aria-label="Issues and pull request"><!--[--><!--]--> Issues and pull request <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/diva-docs/development/contribution/commits.html" class="nav-link sidebar-link" aria-label="Committing changes"><!--[--><!--]--> Committing changes <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/diva-docs/development/contribution/code-styles.html" class="nav-link sidebar-link" aria-label="Code style guidance"><!--[--><!--]--> Code style guidance <!--[--><!--]--></a><!----><!--]--></li></ul></section><!--]--><!--]--></ul><!--[--><!--]--></aside><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="web-client"><a class="header-anchor" href="#web-client">#</a> Web client</h1><p>DIVA is a complex system with many services and different interfaces that drive the core functionality of the system. Operating the system requires a solid understanding of the underlying architecture and the technologies used. To enable everyone to enjoy the benefits of data management with DIVA, we have implemented a web-based client application.</p><div class="flex justify-center"><img src="/diva-docs//assets/diva_client.png" height="500" alt="DIVA Architecture"></div><p>Web application is a Vue 2 single page app and is currently the only client that allows managing DIVA Catalog through an intuitive and modern UI. For non-developers this is the only way to interact with the system&#39;s backend. Make sure to take a look at the <a href="../../user-docs">users guide</a>!</p><p><a href="https://vuetifyjs.com/en/" target="_blank" rel="noopener noreferrer">Vuetify<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a> is used as the frontend framework. Therefore, the look &amp; feel is basically determined by the material design pattern. Nevertheless, we implement slight adjustments to the components to create an individual and recognizable form with a smoother and breezier feeling.</p><p>The web client project was originally created with vue-cli. More information on how to run the client for local development can be found in the corresponding README.md.</p><p>In the near future we plan to update the client to Vue 3. With this update will come new features, improved structure and design of the pages.</p><h2 id="configuration"><a class="header-anchor" href="#configuration">#</a> Configuration</h2><p>In this chapter we will discuss how to prepare the client application for execution. The client communicates with the backend through Kong API Gateway and requires the user to be authenticated with a valid JWT. You can read more about authentication flow in the <a href="/diva-docs/development/architecture/gateway.html" class="">API Gateway</a> section.</p><p>Once loaded, the client performs the identity check through Keycloak and initializes the user data in the browser, if user exists and is already logged in, or navigates to login page. There the authorization to the system is managed by <a href="/diva-docs/development/architecture/keycloak.html" class="">Keycloak</a>. To get access to the functionalities of the system the developers have to register first as well.</p><p>For the web client, in order to be able to execute identity verification and access API Gateway, corresponding information should be configured. The app can be configured by several environment variables. During development on your own machine, the default values should be completely sufficient. In production, however, the built app is shipped in the container from a Nginx server over the internet to the browser. The communication on <code>localhost</code> is not possible anymore and you have at least configure correct domains where client can rich Keycloak and API Gateway instances.</p><div class="custom-container tip"><p class="custom-container-title">ENV&#39;s on runtime</p><p>Yes, you do not have to rebuild the web-client Docker image every time any of the ENV&#39;s changes. The environment variables are injected in the app source code on each container start. You can adjust all accepted ENV&#39;s at any time without the need to build own image, just restart the container!</p></div><p>In the following we will list and explain environment variables that can be set on runtime:</p><ul><li><p><code>VUE_APP_API_GATEWAY_URL</code>- the client must know how to reach the gateway. When working on the system locally, in most cases the gateway will be running on <code>localhost</code> and the client will know, how to communicat to it. For more flexibility, the URL to the gateway can be configured through the environment variables. The client uses the <code>VUE_APP_API_GATEWAY_URL</code> environment variable as the base URL. The variable can be set either in the local development environment directly when running with NPM or in Docker container. You can learn more about how to deploy web-client and the Gateway with reverse proxy in our <a href="/diva-docs/development/deployment/docker.html#deployment-with-nginx-reverse-proxy" class="">Docker guide</a>.</p></li><li><p><code>VUE_APP_KEYCLOAK_URL</code> <span class="badge tip" style="vertical-align:middle;"><!--[-->v2.2.0<!--]--></span> - the client must also know how to reach the Keycloak instance for user authorization. Here the same applies, in production the variable must be set correctly so that the client can communicate with Keycloak. Probably you will have your own managed Keycloak instance running. If not, we give an example on how to deploy Keycloak behind reverse proxy in our <a href="/diva-docs/development/deployment/docker.html#deployment-with-nginx-reverse-proxy" class="">Docker guide</a>.</p></li><li><p><code>VUE_APP_KEYCLOAK_REALM</code> <span class="badge tip" style="vertical-align:middle;"><!--[-->v2.2.0<!--]--></span> - if you have your own managed Keycloak instance, you can specify the realm that the client should use for user authentication. We ship DIVA with already preconfigured Keycloak instance that you can adjust. Otherwise, the default value ca be left as is.</p></li><li><p><code>VUE_APP_KEYCLOAK_CLIENT_ID</code> <span class="badge tip" style="vertical-align:middle;"><!--[-->v2.2.0<!--]--></span> - the <code>id</code> of the Keycloak client that regulates the permission for our web-client. No need to change this variable, if you use the Keycloak instance shipped with DIVA as is and do not have own managed Keycloak.</p></li><li><p><code>VUE_APP_REGISTER_AVAILABLE</code> <span class="badge tip" style="vertical-align:middle;"><!--[-->v3<!--]--></span> - by default the Web Client login page provides a link to the register page on Keycloak. If you want to disable the registration in Keycloak, this link can be deactivated and hidden. Just set <code>VUE_APP_REGISTER_AVAILABLE</code> to <code>false</code>, empty string or let the variable empty. For example:</p><div class="language-text ext-text"><pre class="language-text"><code>VUE_APP_REGISTER_AVAILABLE=false
# or
VUE_APP_REGISTER_AVAILABLE
</code></pre></div></li><li><p><code>VUE_APP_DISABLE_PATCH</code> <span class="badge tip" style="vertical-align:middle;"><!--[-->v3.3.1<!--]--></span> - in the environments with the specific security policies it is possible to disable PATCH requests. In this case all PATCH API requests will be mapped to POST. To disable PATCH requests the variable should be set to <code>true</code>, e.g.:</p><div class="language-text ext-text"><pre class="language-text"><code>VUE_APP_DISABLE_PATCH=true
</code></pre></div></li></ul><p>You can read more about how to use environment variables in the <a href="/diva-docs/development/deployment/docker.html#environment-variables" class="">Docker guide</a>. Please note that for the client to successfully and securely connect to Keycloak in the production environment and authenticate in Kong, Kong and Keycloak must be configured correctly as well. At this point we refer the reader to the corresponding <a href="/diva-docs/development/architecture/gateway.html" class="">Kong Gateway</a> and <a href="/diva-docs/development/architecture/keycloak.html" class="">Keycloak</a> guides.</p><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="nav-link external meta-item-label" href="https://github.com/FraunhoferISST/diva/edit/main/development/architecture/web-client.md" rel="noopener noreferrer" target="_blank" aria-label><!--[--><!--]-->  <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!----><!----></footer><nav class="page-nav"><p class="inner"><span class="prev"> ← <a href="/diva-docs/development/architecture/gateway.html" class="nav-link" aria-label="Gateway"><!--[--><!--]--> Gateway <!--[--><!--]--></a></span><span class="next"><a href="/diva-docs/development/architecture/tooling.html" class="nav-link" aria-label="Tooling"><!--[--><!--]--> Tooling <!--[--><!--]--></a> → </span></p></nav><!--[--><!--]--></main></div><!----><!--]--></div>
    <script src="/diva-docs/assets/js/runtime~app.79a8b393.js" defer></script><script src="/diva-docs/assets/js/772.2e113ebf.js" defer></script><script src="/diva-docs/assets/js/app.5c06d636.js" defer></script>
  </body>
</html>
