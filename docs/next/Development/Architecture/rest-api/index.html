<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Development/Architecture/rest-api">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.21">
<link rel="alternate" type="application/rss+xml" href="/diva-docs/blog/rss.xml" title="DIVA Guide RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/diva-docs/blog/atom.xml" title="DIVA Guide Atom Feed"><title data-rh="true">REST API | DIVA Guide</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://fraunhoferisst.github.io//diva-docs/docs/next/Development/Architecture/rest-api"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="REST API | DIVA Guide"><meta data-rh="true" name="description" content="The core of our system consists of several services that provide their functionality through REST API."><meta data-rh="true" property="og:description" content="The core of our system consists of several services that provide their functionality through REST API."><link data-rh="true" rel="icon" href="/diva-docs/img/logos/diva_logo.ico"><link data-rh="true" rel="canonical" href="https://fraunhoferisst.github.io//diva-docs/docs/next/Development/Architecture/rest-api"><link data-rh="true" rel="alternate" href="https://fraunhoferisst.github.io//diva-docs/docs/next/Development/Architecture/rest-api" hreflang="en"><link data-rh="true" rel="alternate" href="https://fraunhoferisst.github.io//diva-docs/docs/next/Development/Architecture/rest-api" hreflang="x-default"><link rel="stylesheet" href="/diva-docs/assets/css/styles.e5350093.css">
<link rel="preload" href="/diva-docs/assets/js/runtime~main.1559cc00.js" as="script">
<link rel="preload" href="/diva-docs/assets/js/main.4cde9dd1.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><div class="announcementBar_mb4j" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="announcementBarContent_xLdY">⭐️ If you like DIVA, give it a star on <a target="_blank" rel="noopener noreferrer" href="https://github.com/FraunhoferISST/diva">GitHub</a> ⭐️</div><button type="button" class="clean-btn close announcementBarClose_gvF7" aria-label="Close"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/diva-docs/"><div class="navbar__logo"><img src="/diva-docs/img/logos/diva_logo_1000_1000.png" alt="DIVA Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/diva-docs/img/logos/diva_logo_1000_1000.png" alt="DIVA Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">DIVA Guide</b></a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/diva-docs/docs/next/Introduction/what-is-diva">Next</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/diva-docs/docs/next/Development/Architecture/rest-api">Next</a></li><li><a class="dropdown__link" href="/diva-docs/docs/Development/Architecture/rest-api">3.3.1</a></li></ul></div><a class="navbar__item navbar__link" href="/diva-docs/about">About</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/diva-docs/docs/introduction">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/FraunhoferISST/diva" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link icon" title="View on GitHub">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/diva-docs/"><img src="/diva-docs/img/logos/diva_logo_1000_1000.png" alt="DIVA Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/diva-docs/img/logos/diva_logo_1000_1000.png" alt="DIVA Logo" class="themedImage_ToTc themedImage--dark_i4oU"><b>DIVA Guide</b></a><nav class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/diva-docs/docs/next/Introduction/what-is-diva">Introduction</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/diva-docs/docs/next/User-Docs/introduction">User-Docs</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/diva-docs/docs/next/Deployment/prerequisites">Deployment</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/diva-docs/docs/next/Development/introduction">Development</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/diva-docs/docs/next/Development/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/diva-docs/docs/next/Development/prerequisites">Prerequisites</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/diva-docs/docs/next/Development/Development/local-development">Development</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/diva-docs/docs/next/Development/Architecture/introduction">Architecture</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/diva-docs/docs/next/Development/Architecture/introduction">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/diva-docs/docs/next/Development/Architecture/json-schemas">Schemata</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/diva-docs/docs/next/Development/Architecture/rest-api">REST API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/diva-docs/docs/next/Development/Architecture/keycloak">Keycloak</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/diva-docs/docs/next/Development/Architecture/gateway">Gateway</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/diva-docs/docs/next/Development/Architecture/web-client">Web Client</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/diva-docs/docs/next/Development/Architecture/tooling">Tooling</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/diva-docs/docs/next/Development/Contribution/introduction">Contribution</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/diva-docs/docs/next/Development/business-rules">Business Rules</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/diva-docs/docs/next/Development/entities">Entities</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/diva-docs/docs/next/Development/policies">Policies</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/diva-docs/docs/next/Migration/introduction">Migration</a></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_GujU"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for <!-- -->DIVA Guide<!-- --> <b>Next</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/diva-docs/docs/Development/Architecture/rest-api">latest version</a></b> (<!-- -->3.3.1<!-- -->).</div></div><div class="docItemContainer_Adtb"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/diva-docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Development</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Architecture</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">REST API</span><meta itemprop="position" content="3"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: Next</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_aoJ5"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>REST API</h1><p>The core of our system consists of several services that provide their functionality through REST API.
These are only the API&#x27;s that are used internally by DIVA and should not be available to third party providers.
Since the services do not implement authentication logic, the service must always run behind the <a href="/diva-docs/docs/next/Development/Architecture/gateway">Gateway</a>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="best-practises">Best practises<a class="hash-link" href="#best-practises" title="Direct link to heading">​</a></h2><p>The number of services will potentially continue to grow. This makes it more complicated to implement a
system-wide consistent, clean and simple API. This guide provides us with a reference for developing the
APIs in a consistent manner and helps us make the right decisions.</p><p>The rules listed below are a derivation of the general REST API best practices. We only mention the points
that are relevant to us here. This guide is not intended to teach you REST API. Furthermore, REST is a style
guide, so we adopt some practices to the architecture of our system.</p><p><strong>Legend</strong></p><p>✅ - do</p><p>🛑 - nope</p><p>⚡ - not recommended</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="describe-your-api-with-openapi">Describe your API with OpenAPI<a class="hash-link" href="#describe-your-api-with-openapi" title="Direct link to heading">​</a></h3><p>All services document their interfaces with OpenAPI. Please write the definition as detailed as possible and explain all existing edge cases.
All parameters, return values, etc. must have clear and strict type definitions.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="use-nouns-to-represent-resources">Use nouns to represent resources<a class="hash-link" href="#use-nouns-to-represent-resources" title="Direct link to heading">​</a></h3><p>In REST, primary data representation is called Resource. Do <strong>not</strong> use verbs to express manipulations on resources,
as they are presented by HTTP methods.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">✅ service/users</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">🛑 service/getUsers</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="name-collections-with-plural-nouns">Name collections with plural nouns<a class="hash-link" href="#name-collections-with-plural-nouns" title="Direct link to heading">​</a></h3><p>In most cases our REST interfaces represent collections. By using the plural it becomes obvious that we are
working with a set of resources (e.g. users). To express manipulation on a single resource use an endpoint with <code>id</code> path parameter.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">✅ users</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅ users/:id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">🛑 user</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">🛑 user/:id</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="controller-archetype">Controller archetype<a class="hash-link" href="#controller-archetype" title="Direct link to heading">​</a></h3><p>Sometimes the HTTP verbs are not sufficient to express an action on resources. Use <a href="https://restfulapi.net/resource-naming/" target="_blank" rel="noopener noreferrer">Controller Resources</a>
to express special actions.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">✅ POST users/:id/verify</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="pagination-projection-and-filtering">Pagination, projection and filtering<a class="hash-link" href="#pagination-projection-and-filtering" title="Direct link to heading">​</a></h3><p>The APIs must provide pagination, projection and filtering for resources.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="pagination">Pagination<a class="hash-link" href="#pagination" title="Direct link to heading">​</a></h4><p>Pagination is the most important concept and must be present in all APIs. We also recommend to fallback to a default
value for the page size, if not defined in the request. But make sure that this value is clearly documented.
The response must contain a <code>cursor</code> that can be used to query the next page. The <code>cursor</code> value is dependent on the
technology used in the service, but the client does not have to worry about the internal mechanisms. If there is no
cursor in the response, there is no further page. Also make sure to include the total number of entities as <code>total</code> that could be returned
according to current filtering conditions.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">✅ GET resources RESPONSE BODY {&quot;collection&quot;: [50], total: 1300, cursor: &quot;12g3hhgfhg1f32&quot;}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅ GET resources?cursor=12g3hhgfhg1f32</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅ GET resources?cursor=12g3hhgfhg1f32&amp;pageSize=20</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="projection">Projection<a class="hash-link" href="#projection" title="Direct link to heading">​</a></h4><p>In oder for the client to be able to select the fields of a resource, the API must support projection. The <code>fields</code> query parameter
that is a String with coma separated fields in it must be supported.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">✅ GET users?fields=name,email,imageId</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="filtering">Filtering<a class="hash-link" href="#filtering" title="Direct link to heading">​</a></h4><p>To keep the API simple and consistent, the API muss support simple filtering possibilities by specific entity fields with a
general scheme <code>[field]=[value]</code>. In the corresponding OpenAPI specification it must be documented by which fields the entities can be filtered</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">✅ GET reviews?belongsTo=resource:uuid:some-id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">🛑 GET users/admin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">🛑 GET resources(type=pdf&amp;rating&gt;=4)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>For resources, assets, user and other entity types in the future we have to consider more complex search functionality.
The Search Assistant service is responsible for advanced search functionalities.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Summary</h5></div><div class="admonition-content"><p>Response:</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;total&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1300</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">              </span><span class="token comment" style="color:#999988;font-style:italic">// total number of entites</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;collection&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">           </span><span class="token comment" style="color:#999988;font-style:italic">// returned array of entites</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;cursor&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;dajkshjkh234kh&quot;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// cursor to the next page</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Query:</p><ul><li><code>cursor</code> - cursor for the next page</li><li><code>fields</code> - coma separated list of projection fields as String</li><li><code>[someField]</code> - entity specific filtering fields</li></ul></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="nesting-resources">Nesting resources<a class="hash-link" href="#nesting-resources" title="Direct link to heading">​</a></h3><p>There are different views regarding the representation of the hierarchy between resources. To be short, we prefer a
flat structure without sub resources to keep the API as simple and clear as possible. In general, entities that can
be seen as independent resources should have their own endpoint. Instead of the nesting we express the relations between Resources
like stated in the <a href="/diva-docs/docs/next/Development/Architecture/introduction#data-model">data model</a> section. So entities that are in a relation to another entity must store the <code>id</code> of this entity
as <code>belogsTo</code> attribute. Corresponding to the <a href="#filtering">filtering</a> rules we could request entities that belong to some other entity
with <code>belogsTo</code> query parameter.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">✅ reviews</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅ reviews/:id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅ reviews?creatorId=user:uuid:some-id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅ reviews?belongsTo=entity:uuid:some-id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">⚡ users/:id/reviews</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">⚡ users/:id/reviews/:reviewId</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="motivation">Motivation<a class="hash-link" href="#motivation" title="Direct link to heading">​</a></h4><p>First of all, by looking at the not recommended examples, we can&#x27;t tell if we get a complete representation of the
comments or a list of IDs. This affects the readability of the API. If we want to be able to paginate, filter or
project the comment, URL will grow quickly in length and become confusing.</p><p>But the most important point is our microservice architecture. We already have Review Management service,
which performs all operations on the Reviews. So it makes no sense to manage the Reviews via the
endpoint <code>users/:id/reviews</code>. It is semantically incorrect for Review Management service to provide <code>users</code>
endpoint and User Management has nothing to do with Reviews.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="exception">Exception<a class="hash-link" href="#exception" title="Direct link to heading">​</a></h4><p>We can break these rule if we are sure that there is a strong coupling between two resources and that this coupling
does not go beyond several services. As an example we can take User Management Service. Users have an image profile
and images are independent resources, because a binary file cannot be part of a user document. Nevertheless, there is
a strong coupling between users and images, since currently only user can have profile imgae. Without users the images
do not exist. In direct contrast to this, the existence of comments is not bound to a specific resource. Comments can
also be created by the system itself. So we can accept a subresources according to the user example.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">users/:id/image</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="nesting-resources-nm">Nesting resources: n:m<a class="hash-link" href="#nesting-resources-nm" title="Direct link to heading">​</a></h4><p>Yes, the above definition allows us to develop simpler and cleaner APIs without service mesh. But what if we really want
to express a dynamic relation between the entities? An example that will soon be on our desk is the ability for users to
bookmark entities. That means, we want to somehow capture that a user bookmarks a resource or an asset or removes a
bookmark, we want to display the list of bookmarks of a user and for an entity we want to display the list of users who
have bookmarked that entity. Obviously we have to manage the bookmarks in a set. But the question is, how this set has
to look like and where it is stored. Furthermore it is clear that we need operations POST, GET and DELETE on this set.</p><p>But we only want to store the information about who has bookmarked what. We could consider creating a <code>bookmarks</code> REST
resource. Extracting this information to an independent resource seems to be overwhelming. And this is a case for the
sub resources. At this point it must be admitted that the <code>&lt;someEntity&gt;/:id/bookmarks</code> cannot be avoided. We just need
to replace <code>&lt;someEntity&gt;</code> with concrete one. One option would be to store the information about bookmarks in the
resource, asset etc. itself. But due to our micro service nature we would have to implement this endpoint for each
service. And redundancy is the thing we want to avoid the most. We know that only users can save the entities.
So the users are good candidates for it. Now we agree that we need the endpoint <code>users/:id/bookmarks</code>. Again, we
want to avoid redundancies and of course do not save the whole entity object as a bookmark. Instead we only store
the <code>id</code>&#x27;s. This means in turn that we cannot query complete entities at the endpoint <code>GET users/:id/bookmarks</code>.
Instead, the individual entities must be queried from the corresponding service by <code>id</code>. This approach helps us to
keep the individual APIs as simple as possible and decoupled from each other, but introduces a certain amount of
additional effort for the clients.</p><p>The concrete implementation can
vary, we do not mention how the bookmarks are stored, they can be persisted as part of the user object in an array or
individually in an external collection. But through this endpoint we emphasize that bookmarks are not independent
resources and are strongly related to the user.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="flat-resources-structure">Flat Resources Structure<a class="hash-link" href="#flat-resources-structure" title="Direct link to heading">​</a></h3><p>Try to keep the structure of all resources as flat as possible. This will help us to keep the individual documents in
the collections clear and not too large. Especially try to avoid arrays of objects, which can potentially be very long.
One example is the history. Logically you can see the history as a subresource of resources. But we expect that the
history will grow over time and make the resource document very large. In this case the option to represent history as
a separate REST resource should be considered.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="bulk-request-mode">Bulk request mode<a class="hash-link" href="#bulk-request-mode" title="Direct link to heading">​</a></h3><p>The bulk mode allows to create and / or update multiple resources in one request. We should consider this option for
our resources and asset APIs. The endpoints for creating new entities should support bulk mode, where an array of new
resources is accepted. This can be useful when importing data sources that contain many individual resources.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="consistent-responses">Consistent Responses<a class="hash-link" href="#consistent-responses" title="Direct link to heading">​</a></h3><p>Depending on the API endpoint and the status of the operation, we specify different response schemes.
In all cases, the use of HTTP status code must be implemented consistently and semantically correct and documented in the OpenAPI specification. </p><ul><li><p>Collection response (according to <a href="#pagination">pagination</a>):</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;total&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1500</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;collection&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;cursor&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;akjzdaztsgdz32jg=&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>Error response:</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;string&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// error type like &quot;AuthentificationError&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;message&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;string&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// detailed human readable message</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;code&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">409</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">         </span><span class="token comment" style="color:#999988;font-style:italic">// error code, HTTP Status Code or some specific code</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;errors&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic">// additional errors, mostly schema or specification validation errors</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul><ul><li>Bulk collection response:
<code>Status 207</code><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;statusCode&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">500</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// status code for each operation in the bulk</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;data&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;string&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">       </span><span class="token comment" style="color:#999988;font-style:italic">// additional data</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;error&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">              </span><span class="token comment" style="color:#999988;font-style:italic">// error must be included in error case</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;string&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;message&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;string&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;code&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">409</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;errors&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/diva-docs/docs/next/Development/Architecture/json-schemas"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Schemata</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/diva-docs/docs/next/Development/Architecture/keycloak"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Keycloak</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#best-practises" class="table-of-contents__link toc-highlight">Best practises</a><ul><li><a href="#describe-your-api-with-openapi" class="table-of-contents__link toc-highlight">Describe your API with OpenAPI</a></li><li><a href="#use-nouns-to-represent-resources" class="table-of-contents__link toc-highlight">Use nouns to represent resources</a></li><li><a href="#name-collections-with-plural-nouns" class="table-of-contents__link toc-highlight">Name collections with plural nouns</a></li><li><a href="#controller-archetype" class="table-of-contents__link toc-highlight">Controller archetype</a></li><li><a href="#pagination-projection-and-filtering" class="table-of-contents__link toc-highlight">Pagination, projection and filtering</a></li><li><a href="#nesting-resources" class="table-of-contents__link toc-highlight">Nesting resources</a></li><li><a href="#flat-resources-structure" class="table-of-contents__link toc-highlight">Flat Resources Structure</a></li><li><a href="#bulk-request-mode" class="table-of-contents__link toc-highlight">Bulk request mode</a></li><li><a href="#consistent-responses" class="table-of-contents__link toc-highlight">Consistent Responses</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Made by <a target="_blank" rel="noopener noreferrer" href="https://www.isst.fraunhofer.de/en.html">Fraunhofer ISST</a> with ❤️</div></div></div></footer></div>
<script src="/diva-docs/assets/js/runtime~main.1559cc00.js"></script>
<script src="/diva-docs/assets/js/main.4cde9dd1.js"></script>
</body>
</html>