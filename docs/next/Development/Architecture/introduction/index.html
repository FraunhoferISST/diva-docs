<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Development/Architecture/introduction">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.21">
<link rel="alternate" type="application/rss+xml" href="/diva-docs/blog/rss.xml" title="DIVA Guide RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/diva-docs/blog/atom.xml" title="DIVA Guide Atom Feed"><title data-rh="true">Overview | DIVA Guide</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://fraunhoferisst.github.io//diva-docs/docs/next/Development/Architecture/introduction"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Overview | DIVA Guide"><meta data-rh="true" name="description" content="The following figure will give you a quick overview on the architecture of DIVA."><meta data-rh="true" property="og:description" content="The following figure will give you a quick overview on the architecture of DIVA."><link data-rh="true" rel="icon" href="/diva-docs/img/logos/diva_logo.ico"><link data-rh="true" rel="canonical" href="https://fraunhoferisst.github.io//diva-docs/docs/next/Development/Architecture/introduction"><link data-rh="true" rel="alternate" href="https://fraunhoferisst.github.io//diva-docs/docs/next/Development/Architecture/introduction" hreflang="en"><link data-rh="true" rel="alternate" href="https://fraunhoferisst.github.io//diva-docs/docs/next/Development/Architecture/introduction" hreflang="x-default"><link rel="stylesheet" href="/diva-docs/assets/css/styles.f3332492.css">
<link rel="preload" href="/diva-docs/assets/js/runtime~main.e92b25a2.js" as="script">
<link rel="preload" href="/diva-docs/assets/js/main.3ae9f7fa.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><div class="announcementBar_mb4j" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="announcementBarContent_xLdY">⭐️ If you like DIVA, give it a star on <a target="_blank" rel="noopener noreferrer" href="https://github.com/FraunhoferISST/diva">GitHub</a> ⭐️</div><button type="button" class="clean-btn close announcementBarClose_gvF7" aria-label="Close"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/diva-docs/"><div class="navbar__logo"><img src="/diva-docs/img/logos/diva_logo_1000_1000.png" alt="DIVA Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/diva-docs/img/logos/diva_logo_1000_1000.png" alt="DIVA Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">DIVA Guide</b></a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/diva-docs/docs/next/Introduction/what-is-diva">Next</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/diva-docs/docs/next/Development/Architecture/introduction">Next</a></li><li><a class="dropdown__link" href="/diva-docs/docs/Development/Architecture/introduction">3.3.1</a></li></ul></div><a class="navbar__item navbar__link" href="/diva-docs/about">About</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/diva-docs/docs/introduction">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/FraunhoferISST/diva" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link icon" title="View on GitHub">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/diva-docs/"><img src="/diva-docs/img/logos/diva_logo_1000_1000.png" alt="DIVA Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/diva-docs/img/logos/diva_logo_1000_1000.png" alt="DIVA Logo" class="themedImage_ToTc themedImage--dark_i4oU"><b>DIVA Guide</b></a><nav class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/diva-docs/docs/next/Introduction/what-is-diva">Introduction</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/diva-docs/docs/next/User-Docs/introduction">User-Docs</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/diva-docs/docs/next/Deployment/prerequisites">Deployment</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/diva-docs/docs/next/Development/prerequisites">Development</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/diva-docs/docs/next/Development/prerequisites">Prerequisites</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/diva-docs/docs/next/Development/local-development">Local Development</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/diva-docs/docs/next/Development/docker-development">Docker Development</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/diva-docs/docs/next/Development/Architecture/introduction">Architecture</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/diva-docs/docs/next/Development/Architecture/introduction">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/diva-docs/docs/next/Development/Architecture/json-schemas">Schemata</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/diva-docs/docs/next/Development/Architecture/rest-api">REST API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/diva-docs/docs/next/Development/Architecture/keycloak">Keycloak</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/diva-docs/docs/next/Development/Architecture/gateway">Gateway</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/diva-docs/docs/next/Development/Architecture/web-client">Web Client</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/diva-docs/docs/next/Development/Data Governance/introduction">Data Governance</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/diva-docs/docs/next/Development/Contribution/introduction">Contribution</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/diva-docs/docs/next/Migration/introduction">Migration</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/diva-docs/docs/next/Use-Cases/Destroy Claims/destroyclaim-usecase">Use-Cases</a></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_GujU"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for <!-- -->DIVA Guide<!-- --> <b>Next</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/diva-docs/docs/Development/Architecture/introduction">latest version</a></b> (<!-- -->3.3.1<!-- -->).</div></div><div class="docItemContainer_Adtb"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/diva-docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Development</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Architecture</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Overview</span><meta itemprop="position" content="3"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: Next</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_aoJ5"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Overview</h1></header><p>The following figure will give you a quick overview on the architecture of DIVA.
In the following chapter we will take a close look at main components and explain their responsibilities.
Following the navigation structure in the left sidebar you will consistently learn the architecture and be able to understand the implications and design decisions.</p><p><img loading="lazy" alt="DIVA Field Generator" src="/diva-docs/assets/images/diva_architecture_4.0.0-13e9db333305a82cd202d381e7a441c4.png" width="1280" height="720" class="img_ev3q"></p><p>The DIVA architecture follows the microservice pattern and aims at high degree of scalability.
The main goal is to provide the most simplistic components and strong modularity for scalable extension of the system with new functionalities.</p><p>We have five types of services, which are distinguished from each other by well-defined competences.
At one hand, we have management services. Management Services are derived from our data model and perform the operations on the corresponding entities.
On the other hand, there are Assistant Services, which are responsible for additional useful functions.
To be able to connect DIVA with external sources like UrbanPulse or DSC, we develop the third service type - Adapter Services.
Connector Services are used to internally replicate metadata from primary MongoDB data store to other data stores.</p><p>All services provide an API which is strictly defined using OpenAPI specification.
The web client uses API Gateway to access the backend, API Gateway acts as an abstraction layer for the underlying services.
Kafka messages allow services to communicate indirectly and asynchronously with each other.</p><p>In the following the components will be explained with more details.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="data-model">Data Model<a class="hash-link" href="#data-model" title="Direct link to heading">​</a></h2><p>Our data model aims at simplicity and flat hierarchy.
We have designed a model with loose entity coupling, driven by <a href="/diva-docs/docs/next/Development/Architecture/json-schemas">JSON schemas</a>.
JSON schemas are most important building block of our whole system.
Thanks to the schema-driven development process, we can achieve high integrity and validity of the data processed in DIVA.
Furthermore, this approach allows us to develop Management Services API&#x27;s with fully automated data validation process.</p><p>An entity is a logical high level abstraction that represents common properties of the underlying entities and does <strong>not</strong> exists physically.
The entities <a href="/diva-docs/about#user">User</a>, <a href="/diva-docs/about#resource">Resource</a>, <a href="/diva-docs/about#asset">Asset</a> etc. inherit properties like <code>id</code>, <code>entityType</code> and <code>created</code> from Entity.
You will find schematas for all entities in <a href="https://github.com/FraunhoferISST/diva/tree/main/core/services/entity-management/defaultEntities/jsonSchemata" target="_blank" rel="noopener noreferrer"><code>core/services/entity-management/defaultEntities/jsonSchemata/</code></a> directory.</p><p>Although the entities are not coupled with each other, they can have relations.
All entities are created by an actor (User or Service).
An Asset can group multiple Resources, Asset and Resources can have multiple Reviews and History entries.
The relation is expressed in neo4j by edges.
So if one entity is in relation to another, you can set and resolve this in the neo4j database.</p><p>In this way we can achieve a flat hierarchy, loose coupling and flexible relations between entities.
This in turn allows us to develop services with transparent API according to the single responsibility principle.
You will learn more about our <a href="/diva-docs/docs/next/Development/Architecture/rest-api">REST API</a> design rules in the corresponding section.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Relations</h5></div><div class="admonition-content"><p>Note that even if the entities have relations, they remain (mostly) fully independent and can be managed on their own.
The existence of one entity is not bound to another one.
Sometimes you want this behavior.
it can be achieved by writing a business rule that e.g. deletes reviews of an deleted entity.</p></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="dcat-compatibility">DCAT Compatibility<a class="hash-link" href="#dcat-compatibility" title="Direct link to heading">​</a></h3><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>DCAT 3</h5></div><div class="admonition-content"><p>In this case, <strong>compatible</strong> means that a parser (that currently does not exist) can transform our internal metadata model into DCAT 3.
It may be that DCAT allows a higher cardinality than the metadata model in DIVA.
Nevertheless, DIVA would be compatible at this point.
The reverse case may also occur. However, then we would not have compatibility.</p></div></div><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><p>Currently we do not have a complete overview of which fields are DCAT compatible.
This is still to be done.</p></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="diva-core">DIVA Core<a class="hash-link" href="#diva-core" title="Direct link to heading">​</a></h2><p>Under the DIVA Core we understand all components that are implemented and packaged by us or are necessary for the basic functionality.
This includes, for example, management services that we have written or external open source products such as MongoDB or Kafka, which are fixed parts of the DIVA ecosystem.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="web-client">Web Client<a class="hash-link" href="#web-client" title="Direct link to heading">​</a></h3><p><a href="/diva-docs/docs/next/Development/Architecture/web-client">Web application</a> is currently the only client that allows managing DIVA Catalog through a nice UI.
For non-developers this is the only way to interact with the system&#x27;s backend. Make sure to take a look at the <a href="/diva-docs/docs/next/user-docs/introduction">users guide</a>!</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="api-gateway">API Gateway<a class="hash-link" href="#api-gateway" title="Direct link to heading">​</a></h3><p>The <a href="/diva-docs/docs/next/Development/Architecture/gateway">Kong API Gateway</a> acts as a secure access point to the backend services.
It is an abstraction layer for the REST APIs of the individual services used by our <a href="/diva-docs/docs/next/Development/Architecture/web-client">Web client</a>.
Only authenticated users with a valid JWT have access to the backend through the API Gateway.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="messaging">Messaging<a class="hash-link" href="#messaging" title="Direct link to heading">​</a></h3><p>We use Kafka as the event bus for the asynchronous communications between the components.
The messages structure is regulated through the <a href="https://github.com/FraunhoferISST/diva/tree/master/core/schemata/asyncapi/asyncapi.yml" target="_blank" rel="noopener noreferrer">AsyncAPI schema</a>.
The management Service produces events indicating data changes on corresponding topics.
To guaranty consistency and integrity of the exchanged data, the services validate the messages against AsyncAPI schema while consuming and producing them.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="data-storage">Data Storage<a class="hash-link" href="#data-storage" title="Direct link to heading">​</a></h3><p>DIVA uses four databases as persistent data store, including MongoDB, neo4j, Elasticsearch and MinIO.
MongoDB and neo4j are the primary metadata storage for all kind of DIVA entities (users, resources, assets etc.), their relations and is always the <strong>source of truth</strong>.
MongoDB and neo4j should be used to reach consistency across other external or internal components.</p><p>Relevant entities metadata is replicated to the Elasticsearch instance through the <a href="https://github.com/FraunhoferISST/diva/tree/master/core/services/elasticsearch-connector" target="_blank" rel="noopener noreferrer">Elasticsearch Connector</a> to provide high performance full text search capabilities.
This ES instance is used by the <a href="https://github.com/FraunhoferISST/diva/tree/master/core/services/search-assistant" target="_blank" rel="noopener noreferrer">Search Assistant</a> Service.
MinIO acts as the efficient object storage, where we only persist files imported via <a href="/diva-docs/docs/next/Development/Architecture/web-client">Web client</a> UI from the user&#x27;s device.</p><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Data Replication</h5></div><div class="admonition-content"><p>Data replication across different external or internal components should be achieved through events messaging.
Please note that this can lead to eventual consistency due to the asynchronous nature of events broadcasting.
MongoDB and neo4j in combination always act as the single source of truth!</p></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="entity-management">Entity Management<a class="hash-link" href="#entity-management" title="Direct link to heading">​</a></h3><p>Management Service exposes API for CRUD operations on the entities that are available.
It is an important part of the system that represent the main concept of the data modeling in DIVA.
All changes applied to the data produce Kafka events so other components can react properly to these changes.
The entity data is stored in the <code>entities</code> collection in MongoDB and as nodes in the neo4j database.</p><table><thead><tr><th>Entity Name</th><th>Entity Type</th></tr></thead><tbody><tr><td>Resource</td><td>resource</td></tr><tr><td>Asset</td><td>asset</td></tr><tr><td>Service</td><td>service</td></tr><tr><td>User</td><td>user</td></tr><tr><td>JSON Schema</td><td>systemEntity</td></tr><tr><td>Async API</td><td>systemEntity</td></tr><tr><td>Policies</td><td>systemEntity</td></tr><tr><td>Business Rules</td><td>systemEntity</td></tr></tbody></table><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="assistant-services">Assistant Services<a class="hash-link" href="#assistant-services" title="Direct link to heading">​</a></h3><p>Assistant Services provide useful functionalities to extend DIVA possibilities.
They do not produce or mutate any data and have only read access to the entities.</p><table><thead><tr><th>Title</th><th>Description</th><th>Dependencies</th></tr></thead><tbody><tr><td><a href="https://github.com/FraunhoferISST/diva/tree/master/core/services/analytics-assistant" target="_blank" rel="noopener noreferrer">Analytics Assistant</a></td><td>provides statistical data about catalog entities</td><td>Elasticsearch</td></tr><tr><td><a href="https://github.com/FraunhoferISST/diva/tree/master/core/services/profiling-assistant" target="_blank" rel="noopener noreferrer">Profiling Assistant</a></td><td>Responsible for <a href="/diva-docs/about#resource">profiling workflows</a> execution triggering</td><td>MongoDB, Airflow</td></tr><tr><td><a href="https://github.com/FraunhoferISST/diva/tree/master/core/services/history-assistant" target="_blank" rel="noopener noreferrer">History Assistant</a></td><td>Provides a human readable representation of the entities <a href="/diva-docs/about#resource">history</a></td><td>MongoDB, Schema Registry</td></tr><tr><td><a href="https://github.com/FraunhoferISST/diva/tree/master/core/services/search-assistant" target="_blank" rel="noopener noreferrer">Search Assistant</a></td><td>Provides preselected entities search API</td><td>Elasticsearch</td></tr></tbody></table><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="adapter-services">Adapter Services<a class="hash-link" href="#adapter-services" title="Direct link to heading">​</a></h3><p>The Adapter Services are special services designed to connect and import data from external sources.
They encapsulate the connection logic, load the data, transform it into a DIVA compliant representation and store the newly created <a href="/diva-docs/about#resource">Resources</a> in the system.
In special cases an Adapter Service can be implemented to export a DIVA Resource to an external system.
The creation of new resources is done by using the Resource Management Service, direct access to the data storage is only allowed in the read mode.</p><table><thead><tr><th>Title</th><th>Description</th><th>Dependencies</th></tr></thead><tbody><tr><td><a href="https://github.com/FraunhoferISST/diva/tree/master/core/services/adapter-services/dsc-adapter" target="_blank" rel="noopener noreferrer">DIVA Lake Adapter</a></td><td>Responsible for uploading files into our Diva Lake (MinIO)</td><td>MinIO, Resource Management</td></tr><tr><td><a href="https://github.com/FraunhoferISST/diva/tree/master/core/services/adapter-services/urban-pulse-adapter" target="_blank" rel="noopener noreferrer">UrbanPulse Adapter</a></td><td>Adapter for the UrbanPulse instance</td><td>UrbanPulse, Resource Management</td></tr></tbody></table><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="workflow-engine">Workflow Engine<a class="hash-link" href="#workflow-engine" title="Direct link to heading">​</a></h3><p>Apache Airflow is a great open-source workflow tool tha we use to execute and orchestrate profiling tasks.
<a href="https://github.com/FraunhoferISST/diva/tree/master/core/services/analytics-assistant" target="_blank" rel="noopener noreferrer">Profiling Assistant</a> is our wrapper service for Airflow API that triggers the workflow execution.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="functions-as-a-service-faas">Functions as a Service (FaaS)<a class="hash-link" href="#functions-as-a-service-faas" title="Direct link to heading">​</a></h3><p>In DIVA, there are a number of useful analysis tasks that are performed frequently.
We build small Functions-as-a-Service that simply produce an output for a given input to address such specific profiling tasks.
These functions are stateless and are a part of the profiling workflow engine.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/diva-docs/docs/next/Development/docker-development"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Docker Development</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/diva-docs/docs/next/Development/Architecture/json-schemas"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Schemata</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#data-model" class="table-of-contents__link toc-highlight">Data Model</a><ul><li><a href="#dcat-compatibility" class="table-of-contents__link toc-highlight">DCAT Compatibility</a></li></ul></li><li><a href="#diva-core" class="table-of-contents__link toc-highlight">DIVA Core</a><ul><li><a href="#web-client" class="table-of-contents__link toc-highlight">Web Client</a></li><li><a href="#api-gateway" class="table-of-contents__link toc-highlight">API Gateway</a></li><li><a href="#messaging" class="table-of-contents__link toc-highlight">Messaging</a></li><li><a href="#data-storage" class="table-of-contents__link toc-highlight">Data Storage</a></li><li><a href="#entity-management" class="table-of-contents__link toc-highlight">Entity Management</a></li><li><a href="#assistant-services" class="table-of-contents__link toc-highlight">Assistant Services</a></li><li><a href="#adapter-services" class="table-of-contents__link toc-highlight">Adapter Services</a></li><li><a href="#workflow-engine" class="table-of-contents__link toc-highlight">Workflow Engine</a></li><li><a href="#functions-as-a-service-faas" class="table-of-contents__link toc-highlight">Functions as a Service (FaaS)</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Made by <a target="_blank" rel="noopener noreferrer" href="https://www.isst.fraunhofer.de/en.html">Fraunhofer ISST</a> with ❤️</div></div></div></footer></div>
<script src="/diva-docs/assets/js/runtime~main.e92b25a2.js"></script>
<script src="/diva-docs/assets/js/main.3ae9f7fa.js"></script>
</body>
</html>